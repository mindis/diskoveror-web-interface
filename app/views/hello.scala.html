@(name:String,input:String)
@import scala.util.parsing.json._
@import com.google.gson.Gson

    
 @main(title = "Diskoverora Text Analyzer") {
 
    <script>
    
    	$(document).ready(function(){

    	//	 alert('The paragraph was clicked.');
    		 
    	
    	
		function capitalizeString(val){
			return val.charAt(0).toUpperCase()+val.substr(1).toLowerCase();
		}
		
		
		
    	var series = @{Html(new Gson().toJson(name))};
    	var personcount=0;
    	var organizationcount=0;
    	var locationcount=0;
    	var currencycount=0;
    	var percentcount=0;
    	var datecount=0;
    	var timecount=0;
    	
    	var sentences='';
    	
		//alert(series);
		
		
    	var str="@input";
    	
    	$.each(JSON.parse(series), function(idx, obj) {
    		$.each(obj, function(k1, v1) {
                //alert("M2-"+ k1 + ' ' + v1);
    			$.each(v1, function(k2, v2) {
				
						if(k1=='personAlias')
                    	{
							
							//alert("AcM3-" + capitalizeString(k2));
							personcount=personcount+1;
							var capStr=capitalizeString(k2);
							//var capStr=k2;
                    		$("#person").append($('<li>').append(capStr));
                    		var re = new RegExp(capStr,"ig");
                    		str=str.replace(re,'<code class=personhighlight>'+ capStr + '</code>');
                    		//alert(str);
							
							
							$.each(v2, function(k3, v3) {
								capStr=capitalizeString(v3);
								re = new RegExp(capStr,"ig");
								str=str.replace(re,'<code class=personhighlight>'+ capStr + '</code>');
							});
							
                    	}
						else if(k1=='locationAlias')
                    	{
							
							//alert("AcM3-" + capitalizeMe(k2));
							locationcount=locationcount+1;
							var capStr=capitalizeString(k2);
                    		$("#location").append($('<li>').append(capStr));
                    		var re = new RegExp(capStr,"g");
                    		str=str.replace(re,'<code class=locationhighlight>'+ capStr + '</code>');
                    		//alert(str);
							$.each(v2, function(k3, v3) {
								capStr=capitalizeString(v3);
								re = new RegExp(capStr,"ig");
								str=str.replace(re,'<code class=locationhighlight>'+ capStr + '</code>');
							});
                    	}
						else if(k1=='organizationAlias')
                    	{
							
							//alert("AcM3-" + capitalizeMe(k2));
							organizationcount=organizationcount+1;
							var capStr=capitalizeString(k2);
							//var capStr=k2;
                    		$("#organization").append($('<li>').append(capStr));
                    		var re = new RegExp(capStr,"ig");
                    		str=str.replace(re,'<code class=organizationhighlight>'+ capStr + '</code>');
                    		//alert(str);
							
							$.each(v2, function(k3, v3) {
								capStr=capitalizeString(v3);
								re = new RegExp(capStr,"ig");
								str=str.replace(re,'<code class=organizationhighlight>'+ capStr + '</code>');
							});
							
                    	}
						else if(k1=='currencyAlias')
                    	{
							
							//alert("AcM3-" + capitalizeMe(k2));
							currencycount=currencycount+1;
							var capStr=capitalizeString(k2);
                    		$("#currency").append($('<li>').append(capStr));
                    		var re = new RegExp(capStr,"ig");
                    		str=str.replace(re,'<code class=currencyhighlight>'+ capStr + '</code>');
                    		//alert(str);
							$.each(v2, function(k3, v3) {
								capStr=capitalizeString(v3);
								re = new RegExp(capStr,"ig");
								str=str.replace(re,'<code class=currencyhighlight>'+ capStr + '</code>');
							});
                    	}
						else if(k1=='percentAlias')
                    	{
							
							//alert("AcM3-" + capitalizeMe(k2));
							percentcount=percentcount+1;
							var capStr=capitalizeString(k2);
                    		$("#percent").append($('<li>').append(capStr));
                    		var re = new RegExp(capStr,"ig");
                    		str=str.replace(re,'<code class=percenthighlight>'+ capStr + '</code>');
                    		//alert(str);
							$.each(v2, function(k3, v3) {
								capStr=capitalizeString(v3);
								re = new RegExp(capStr,"ig");
								str=str.replace(re,'<code class=percenthighlight>'+ capStr + '</code>');
							});
                    	}
						else if(k1=='dateAlias')
                    	{
							
							//alert("AcM3-" + capitalizeMe(k2));
							datecount=datecount+1;
							var capStr=capitalizeString(k2);
                    		$("#date").append($('<li>').append(capStr));
                    		var re = new RegExp(capStr,"ig");
                    		str=str.replace(re,'<code class=datehighlight>'+ capStr + '</code>');
                    		//alert(str);
							$.each(v2, function(k3, v3) {
								capStr=capitalizeString(v3);
								re = new RegExp(capStr,"ig");
								str=str.replace(re,'<code class=datehighlight>'+ capStr + '</code>');
							});
                    	}
						else if(k1=='timeAlias')
                    	{
							
							//alert("AcM3-" + capitalizeMe(k2));
							timecount=timecount+1;
							var capStr=capitalizeString(k2);
                    		$("#time").append($('<li>').append(capStr));
                    		var re = new RegExp(capStr,"ig");
                    		str=str.replace(re,'<code class=timehighlight>'+ capStr + '</code>');
                    		//alert(str);
							$.each(v2, function(k3, v3) {
								capStr=capitalizeString(v3);
								re = new RegExp(capStr,"ig");
								str=str.replace(re,'<code class=timehighlight>'+ capStr + '</code>');
							});
                    	}
						
						
						
                });
                
    		});
    		
    	});
    	
    	
    	
    	$("#m2").append("&nbsp;&nbsp;&nbsp;"+personcount);
		$("#m3").append("&nbsp;&nbsp;&nbsp;"+organizationcount);
		$("#m4").append("&nbsp;&nbsp;&nbsp;"+locationcount);
		$("#m5").append("&nbsp;&nbsp;&nbsp;"+currencycount);
		$("#m6").append("&nbsp;&nbsp;&nbsp;"+percentcount);
		$("#m7").append("&nbsp;&nbsp;&nbsp;"+datecount);
		$("#m8").append("&nbsp;&nbsp;&nbsp;"+timecount);
    	
		$("#userinput").html(str);	
    		
		});
    	
    	
    	
    </script>

    
    	
    	


<div class="span4">	
		<div class="box">
			<p class="headingPara">Entities</p>
			<ul id="tab">
				<li id="m2" class="header">Person</li>
				<li>
					<div id="l2cover">
						<ul id="person">
									
						</ul>
					</div>
				</li>
				<li id="m3" class="header">Organization</li>
				<li>
					<div id="l3cover">
						<ul id="organization">
									
						</ul>
					</div>
				</li>
				<li id="m4" class="header">Location</li>
				<li>
					<div id="l4cover">
						<ul id="location">
									
						</ul>
					</div>
				</li>
				<li id="m5" class="header">Currency</li>
				<li>
					<div id="l5cover">
						<ul id="currency">
									
						</ul>
					</div>
				</li>
				<li id="m6" class="header">Percent</li>
				<li>
					<div id="l6cover">
						<ul id="percent">
									
						</ul>
					</div>
				</li>
				<li id="m7" class="header">Date</li>
				<li>
					<div id="l7cover">
						<ul id="date">
									
						</ul>
					</div>
				</li>
				<li id="m8" class="header">Time</li>
				<li>
					<div id="l8cover">
						<ul id="time">
									
						</ul>
					</div>
				</li>
			</ul>
		</div>	
</div>

<div class="span8">
		<p id="userinput" class="inputdisplay">
	
		</p>
		
		<a class="btn primary" href="@routes.InputData.getInput">Try another text</a><br/><br/>
</div>


	</div>
	</div>
	<br/><br/><br/><br/><br/><br/>	
}